<div class="container my-4">
  <h2>Edit Class: <%= @afns_class.name %></h2>
  <%= form_with model: @afns_class, local: true do |f| %>
    <!-- Class Information Fields -->
    <div class="mb-3">
      <%= f.label :name, "Class Name", class: "form-label" %>
      <%= f.text_field :name, class: "form-control" %>
    </div>

    <div class="mb-3">
      <%= f.label :instructor, "Instructor", class: "form-label" %>
      <%= f.text_field :instructor, class: "form-control" %>
    </div>

    <!-- Room Selection Dropdown -->
    <div class="mb-3">
      <%= f.label :room, "Room", class: "form-label" %>
      <%= f.select :room, AfnsClass::ROOMS.map { |room| [room[:name]] }, { prompt: "Select a Room" }, class: "form-select" %>
    </div>

    <div class="mb-3">
      <%= f.label :is_active, "Active Status", class: "form-label" %>
      <%= f.check_box :is_active %> Active
    </div>
    <hr>
    <h3>Edit Class Schedules</h3>

    <!-- Schedule Fields -->
    <%= f.fields_for :schedules do |schedule_form| %>
      <div class="card mb-3">
        <div class="card-body">
          <div class="mb-3">
            <%= schedule_form.label :day_of_week, "Day of the Week", class: "form-label" %>
            <%= schedule_form.select :day_of_week, AfnsClassSchedule::DAYS_OF_WEEK.keys.map { |day| [day.capitalize, day] }, {}, class: "form-select" %>
          </div>
          <div class="row">
            <div class="col-md-6">
              <%= schedule_form.label :start_time, "Start Time", class: "form-label" %>
              <%= schedule_form.time_select :start_time, { minute_step: 15 }, class: "form-control" %>
            </div>
            <div class="col-md-6">
              <%= schedule_form.label :end_time, "End Time", class: "form-label" %>
              <%= schedule_form.time_select :end_time, { minute_step: 15 }, class: "form-control" %>
            </div>
          </div>
          <%= schedule_form.check_box :_destroy %> 
          <%= schedule_form.label :_destroy, "Remove Schedule", class: "form-check-label text-danger" %>
        </div>
      </div>
    <% end %>

    <div class="mt-3">
      <%= f.submit "Save Changes", class: "btn btn-primary" %>
      <%= link_to 'Cancel', afns_class_path(@afns_class), class: "btn btn-outline-secondary" %>
    </div>
  <% end %>
</div>
